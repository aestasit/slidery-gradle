apply plugin: 'maven'

repositories {
  mavenCentral()
  maven {
    url repositoryUrl
  }
}

uploadArchives {
  repositories {
    mavenDeployer {

      name = "Sonatype OSS Snapshots"

      repository(url: repositoryUrl) {
        authentication(userName: repositoryUsername, password: repositoryPassword)
      }

      pom.project {

        name 'Gradle Slidery'
        packaging 'jar'
        description 'Gradle plugin for Slidery - a Java library to support creation of presentation slides written in Markdown.'
        url 'https://github.com/aestasit/slidery-gradle'
    
        scm {
          url 'scm:git@github.com:aestasit/slidery-gradle'
          connection 'scm:git@github.com:aestasit/slidery-gradle'
          developerConnection 'scm:git@github.com:aestasit/slidery-gradle'
        }
    
        licenses {
          license {
            name 'The Apache Software License, Version 2.0'
            url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
            distribution 'repo'
          }
        }
    
        developers {
          developer {
            id 'aadamovich'
            name 'Andrey Adamovich'
          }
        }

      }
    }
  }
}
